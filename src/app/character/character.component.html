<span *ngIf="isLanguageChanged() then updateLocalization()"></span>
<div class="card-header h2">
  {{localization.getHeader()}}
</div>

<div class="options">
  <span *ngIf="onShowOptions(); then showOptions else hideOptions"></span>
  <ng-template #showOptions>
    <div class="options-header h3 text-center">{{localization.getOptionsHeader()}}</div>
    <ul class="list-group text-center">
      <li class="list-group-item">
        <label for="select-generate-name">
          <input id="select-generate-name" type="checkbox"
                 [(ngModel)]="options.nameOptions.selected" disabled>
          {{localization.getName()}}
        </label>
      </li>
      <li class="list-group-item">
        <label for="select-generate-characteristics">
          <input id="select-generate-characteristics" type="checkbox"
                 [(ngModel)]="options.characteristicOptions.selected">
          {{localization.getCharacteristics()}}
        </label>
      </li>
      <!--Don't like it. REDO AS A CARD-->
      <li class="list-group-item">
        <label for="select-generate-ethnic">
          <input id="select-generate-ethnic" type="checkbox"
                 [(ngModel)]="options.backgroundOptions.ethnic">
          {{localization.getEthnic()}}
        </label>
      </li>
      <li class="list-group-item">
        <label for="select-generate-family">
          <input id="select-generate-family" type="checkbox"
                 [(ngModel)]="options.backgroundOptions.family">
          {{localization.getFamily()}}
        </label>
      </li>
      <li class="list-group-item">
        <label for="select-generate-personal-style">
          <input id="select-generate-personal-style" type="checkbox"
                 [(ngModel)]="options.backgroundOptions.dress">
          {{localization.getPersonalStyle()}}
        </label>
      </li>
      <li class="list-group-item">
        <label for="select-generate-motivation">
          <input id="select-generate-motivation" type="checkbox"
                 [(ngModel)]="options.backgroundOptions.motivation">
          {{localization.getMotivation()}}
        </label>
      </li>
      <li class="list-group-item">
        <div class="bg-info text-white">{{localization.getLifeEvents()}}</div>
        <div>
          <label for="select-generate-detailed-generation">
            <input id="select-generate-detailed-generation" type="checkbox"
                   [(ngModel)]="options.backgroundOptions.events.detailedGeneration">
            {{localization.getDetailedGeneration()}}
          </label>
        </div>
        <div>
          <label for="select-generate-nothing-happened">
            <input id="select-generate-nothing-happened" type="checkbox"
                   [(ngModel)]="options.backgroundOptions.events.nothingHappenedEvents">
            {{localization.getNothingHappened()}}
          </label>
        </div>
        <div>
          <label for="select-generate-random-age">
            <input id="select-generate-random-age" type="checkbox"
                   [(ngModel)]="options.backgroundOptions.events.randomAge">
            {{localization.getRandomAge()}}
          </label>
          <div [hidden]="options.backgroundOptions.events.randomAge">
            <input type="number" [min]="16" [max]="74"
                   [(ngModel)]="options.backgroundOptions.events.age"
                   (keyup)="checkInputAge($event)">
            {{localization.getAge()}}
          </div>
        </div>
      </li>
      <li class="list-group-item">
        <label for="select-generate-skills">
          <input id="select-generate-skills" type="checkbox"
                 [(ngModel)]="options.skillsOptions.selected" disabled>
          {{localization.getSkills()}}
        </label>
      </li>
    </ul>
    <div class="text-right h5">
      <button class="btn-primary" (click)="changeOptionsState()">
        {{btnLocalization.getHideOptions()}}
      </button>
      &nbsp;
      <button class="btn-success" (click)="generateInfo()">
        {{btnLocalization.getGenerate()}}
      </button>
    </div>
  </ng-template>
  <ng-template #hideOptions>
    <div class="text-right h5">
      <button (click)="changeOptionsState()" class="btn-primary">
        {{btnLocalization.getShowOptions()}}
      </button>
      &nbsp;
      <button class="btn-success" (click)="generateInfo()">
        {{btnLocalization.getGenerate()}}
      </button>
    </div>
  </ng-template>
</div>

<app-characteristics [hidden]="!options.characteristicOptions.selected"
                     [localization]="appService.getLocalization().getCharacteristicsLocalization()"
                     [options]="options.characteristicOptions"
                     [btnLocalization]="btnLocalization"></app-characteristics>

<app-background [hidden]="!options.backgroundOptions.hasActiveOption()"
                [options]="options.backgroundOptions"
                [btnLocalization]="btnLocalization"
                [ethnicLocalization]="appService.getLocalization().getCharacterEthnicLocalization()"
                [dressLocalization]="appService.getLocalization().getCharacterDressLocalization()"
                [motivationLocalization]="appService.getLocalization().getMotivationLocalization()"
                [familyLocalization]="appService.getLocalization().getFamilyLocalization()"
                [eventsLocalization]="appService.getLocalization().getEventsLocalization()"
                [eventsRomanticLocalization]="appService.getLocalization().getRomanticEventsLocalization()"
                [eventsProblAndWinsLocalization]="appService.getLocalization().getProblemsWinsEventsLocalization()"
                [eventsNothHappLocalization]="appService.getLocalization().getNothingHappenedEventsLocalization()"
                [eventsFriendsEnemLocalization]="appService.getLocalization().getFriendsEnemiesEventsLocalization()">
</app-background>
